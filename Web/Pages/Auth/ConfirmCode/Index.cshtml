@page
@model Web.Pages.Auth.ConfirmCode.IndexModel

@using Microsoft.AspNetCore.Mvc.Localization;
@inject IStringLocalizer<ResourceLibrary.Panel.Common.Auth.ConfirmCode.ConfirmCode> Localizer;
@inject IHtmlLocalizer<ResourceLibrary.Panel.Common.Auth.ConfirmCode.ConfirmCode> HtmlLocalizer;
@{
    ViewData["Title"] = @Localizer["Title"];
    Layout = "_AuthLayout";
}

<main>
    <h3 class="my-5 px-6 text-gray-900 font-extrabold text-[26px]">
        @Localizer["Step2Title"]
    </h3>
    <div class="gray-800 px-6">
        @(HtmlLocalizer["Step2Subtitle", Model.model.UserName])
        <a href="/auth/forgotpassword"
            class="process__link mx-3 text-xs font-semibold rounded bg-yellow-400 text-white px-[11px] py-[7px]">
            @Localizer["Edit"]
        </a>
    </div>

    <div  class="mx-2 mt-10 bg-white py-8 px-4 shadow   sm:px-10">
        <form  class="space-y-6" method="post">
            <div>
                <div asp-validation-summary="ModelOnly"
                    class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"></div>
            </div>
            <div>
                <input type="hidden" asp-for="IsRegister" />

                <input type="hidden" asp-for="model.UserName" />

                <div class="relative">
                    <div class="absolute top-[0px] rtl:left-[0px] ltr:right-[0px]">
                        <span class="timer" id="timeCounterContainer">1:15</span>
                        <span id="resendCodeButton" onclick="resendResetCode()"
                            class=" cursor-pointer text-blue-600 hidden">
                            @Localizer["Resend"]
                        </span>
                    </div>
                    <dt:input-text asp-for="model.VerificationCode" text-align="TextAlign.Center" dir="TextDirection.ltr"></dt:input-text>
                </div>
                <div>
                    <recaptcha />
                </div>

            </div>
            <div>
                <button
                onclick="verifyPhoneForgotPassword(this)"
                    class="w-full flex justify-center py-[9px] px-4  border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600">
                    <span class="inline" id="submitText"> @Localizer["SubmitButton"]</span>
                </button>
            </div>
        </form>
    </div>

</main>
